<head>
    <link rel="stylesheet" href="~/front/homelist.css />

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
</head>
<div class="sidebar">
    <h3 class="text-center">iGlem</h3>
    <a href="/Listadocumentos/HomeList">Início</a>
   
    <a href="/Home/Usuario">Perfil</a>
    <a href="/Home/Suporte">Suporte</a>

</div>
<h1> Itens Recentes</h1>
<br />
<header>
    
    @if (ViewBag.DocumentosRecentes != null)
    {
        var documentos = ViewBag.DocumentosRecentes as List<test_v01.Repository.Models.Documento>;
        if (documentos != null && documentos.Count > 0)
        {

            <div>


                <div class="row mt-4">
                    @foreach (var documento in documentos)
                    {
                        <div class="col-md-4">
                            <div class="card">
                                <div class="card-body">


                                    <img src="default.png" alt="Descrição da Imagem" class="img-fluid documento-img" data-documento="@documento.Documentonome" style="max-width: 50px; max-height:50px;">

                                    <h5 class="card-title">@Html.DisplayFor(modelItem => documento.Documentonome)</h5>
                                    <h5 class="card-title"> Data da postagem desse documento: @Html.DisplayFor(modelItem => documento.datacriacao)</h5>
                                    <div style="display: flex; justify-content: space-between;">
                                        <a asp-action="Edit" asp-controller="ListaDocumentos" asp-route-id="@documento.Documentoid" class="btn btn-success">Edit</a>
                                        <a asp-action="Download" asp-controller="ListaDocumentos" asp-route-id="@documento.Documentoid" class="btn btn-secondary">Download</a>
                                        <a asp-action="Delete" asp-controller="ListaDocumentos" asp-route-id="@documento.Documentoid" class="btn btn-danger">Delete/Details</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                </div>


            </div>

        }
        else
        {
            <p>@ViewBag.Message</p> <!-- Exibe a mensagem caso não haja documentos -->
        }
    }
    else
    {
        <p>Erro: Nenhum dado encontrado.</p>
    }


</header>

<style>
    .navbar {
        display: none;
    }

    .sidebar {
        height: 100vh;
        position: fixed;
        top: 0;
        left: 0;
        width: 250px;
        background-color: #667C4D;
        padding-top: 20px;
    }

        .sidebar a {
            padding: 15px;
            text-decoration: none;
            font-size: 18px;
            color: #fff;
            display: block;
            margin-bottom: 10px;
        }

            .sidebar a:hover {
                background-color: #ddd;
            }

    .content {
        margin-left: 250px;
        padding: 20px;
    }

    header {
        background-color: #fff;
        padding: 20px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        margin-bottom: 20px;
        display: flex;
        justify-content: center; /* Adiciona centralização horizontal */
        align-items: center; /* Alinha verticalmente ao centro */
        width: 100%;
    }



    .header-container {
        display: flex;
        justify-content: center; /* Centraliza o conteúdo horizontalmente */
        align-items: center; /* Centraliza o conteúdo verticalmente */
        width: 100%;
    }



    .search-container {
        position: relative;
        flex-grow: 1;
        margin-right: 20px;
        width: 48rem !important;
    }

        .search-container input {
            padding-left: 40px;
            width: 60rem;
        }

        .search-container .search-icon, .search-container .clear-icon {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            font-size: 18px;
            color: #6c757d;
            cursor: pointer;
        }

        .search-container .search-icon {
            left: 10px;
        }

        .search-container .clear-icon {
            right: 10px;
        }


    .button-group {
        display: flex;
        gap: 10px;
        align-items: center;
    }

    .file-list {
        margin-top: 20px;
    }


    .card {
        margin-bottom: 20px;
        border: 1px solid #ddd;
        border-radius: 8px;
        background-color: #fff;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }


        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }


    .card-body {
        padding: 20px;
        font-family: Arial, sans-serif;
    }


    .card-title {
        font-size: 1.25rem;
        font-weight: 600;
        color: #333;
        margin-bottom: 10px;
    }


    .card-text {
        font-size: 1rem;
        color: #555;
        margin-bottom: 15px;
    }


    .card .btn {
        font-size: 0.875rem;
        padding: 8px 12px;
        border-radius: 5px;
    }


    .card .btn-success {
        background-color: #28a745;
        border-color: #28a745;
    }

        .card .btn-success:hover {
            background-color: #218838;
            border-color: #1e7e34;
        }


    .card .btn-secondary {
        background-color: #6c757d;
        border-color: #6c757d;
    }

        .card .btn-secondary:hover {
            background-color: #5a6268;
            border-color: #545b62;
        }


    .card .btn-danger {
        background-color: #dc3545;
        border-color: #dc3545;
    }

        .card .btn-danger:hover {
            background-color: #c82333;
            border-color: #bd2130;
        }


    .card-body > div {
        display: flex;
        justify-content: space-between;
    }


    .card-body > div, .card-body .card-title, .card-body .card-text {
        margin-bottom: 15px;
    }


    .row {
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
    }


    .col-md-4 {
        flex: 1 1 30%;
        max-width: 30%;
        padding: 0;
    }

    .sidebar {
        color: #fff;
    }
</style>

<script>
    // Função para alterar a imagem do documento com base na extensão
    function mudarImagemPorExtensao() {
        var imagensDocumento = document.querySelectorAll('.documento-img');

        imagensDocumento.forEach(function (imagem) {
            var nomeDocumento = imagem.getAttribute('data-documento');

            if (nomeDocumento.trim() === "") {
                return;
            }

            var extensao = nomeDocumento.split('.').pop().toLowerCase();

            switch (extensao) {
                case 'docx':
                case 'doc':
                    imagem.src = 'https://cdn0.iconfinder.com/data/icons/logos-microsoft-office-365/128/Microsoft_Office_Mesa_de_trabajo_1-1024.png';
                    break;
                case 'xlsx':
                case 'xls':
                    imagem.src = 'https://logodownload.org/wp-content/uploads/2020/04/excel-logo-1.png';
                    break;
                case 'pdf':
                    imagem.src = 'https://upload.wikimedia.org/wikipedia/commons/thumb/8/87/PDF_file_icon.svg/1667px-PDF_file_icon.svg.png';
                    break;
                case 'txt':
                    imagem.src = 'https://cdn-icons-png.flaticon.com/512/2656/2656402.png';
                    break;
                case 'pptx':
                    imagem.src = 'https://iconape.com/wp-content/files/tp/369241/svg/powerpoint-logo-icon-png-svg.png';
                    break;
                default:
                    imagem.src = '';
                    break;
            }

        });
    }

    // Chama a função ao carregar a página
    window.onload = mudarImagemPorExtensao;

    // Atualiza a imagem a cada 500ms
    setInterval(mudarImagemPorExtensao, 500);
</script>